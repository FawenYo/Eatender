{"version":3,"sources":["components/useForm.js","components/controls/TimeRange.js","components/controls/DateRange.js","components/controls/Button.js","components/controls/Controls.js","components/VoteCreateForm.js","components/controls/Input.js","components/controls/DatePicker.js","components/VoteCreate.js","index.js"],"names":["useStyles","makeStyles","theme","root","width","margin","spacing","Form","props","classes","other","children","className","autoComplete","TimeRange","name","label","value","error","onChange","formControl","minWidth","maxWidth","chips","display","flexWrap","chip","useStyle","FormControl","style","variant","InputLabel","Select","defaultValue","autoWidth","MenuItem","FormHelperText","DateRange","current","Date","from","year","getFullYear","month","getMonth","day","getDate","to","useState","selectedDayRange","setSelectedDayRange","colorPrimary","colorPrimaryLight","shouldHighlightWeekends","textTransform","user_id","Controls","Input","TextField","helperText","DatePicker","inputPlaceholder","inputClassName","selectedDay","setSelectedDay","formatInputText","Button","text","size","color","onClick","$","document","ready","query_url","URL","window","location","href","searchParams","has","query_params","URLSearchParams","get","initialFormValues","voteName","earliestTime","latestTime","PreservedFormValues","dueDate","dateRange","startDate","endDate","VoteCreateForm","validate","fieldValues","values","temp","errors","length","Number","isInteger","setErrors","Object","every","x","initialFValues","validateOnChange","setValues","handleInputChange","e","target","resetForm","useForm","setDueDate","defaultDateRange","utils","getToday","setDateRange","onSubmit","preventDefault","date1","diffInDays","getTime","postedData","requestOptions","method","header","body","JSON","stringify","mode","fetch","then","response","json","data","status","Swal","fire","icon","title","message","content","confirmButtonText","result","replace","share_link","error_message","minimumDate","renderInput","ref","readOnly","placeholder","textAlign","padding","fontSize","border","borderRadius","outline","type","disabled","AppContainer","styled","div","BoxContainer","TopContainer","HeaderContainer","BannerText","h2","HeaderText","SmallText","h5","BackDrop","motion","pageContent","VoteCreate","initial","render","querySelector"],"mappings":"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","file":"static/js/main.da88ba92.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { makeStyles } from \"@material-ui/core\";\n\nexport function useForm(initialFValues, validateOnChange = false, validate) {\n\n\n    const [values, setValues] = useState(initialFValues);\n    const [errors, setErrors] = useState({});\n\n    const handleInputChange = e => {\n        const { name, value } = e.target\n        setValues({\n            ...values,\n            [name]: value\n        })\n        if (validateOnChange)\n            validate({ [name]: value })\n    }\n\n    const resetForm = () => {\n        setValues(initialFValues);\n        setErrors({})\n    }\n\n\n    return {\n        values,\n        setValues,\n        errors,\n        setErrors,\n        handleInputChange,\n        resetForm,\n    }\n}\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        '& .MuiFormControl-root': {\n            width: '80%',\n            margin: theme.spacing(1)\n        }\n    }\n}))\n\nexport function Form(props) {\n\n    const classes = useStyles();\n    const { children, ...other } = props;\n    return (\n        <form className={classes.root} autoComplete=\"off\" {...other}>\n            {props.children}\n        </form>\n    )\n}\n\n","import React from 'react'\nimport { makeStyles, FormControl, InputLabel, Select, MenuItem, FormHelperText } from '@material-ui/core'\n\nfunction TimeRange(props) {\n\n    const { name, label, value, error = null, onChange } = props;\n\n    const useStyle = makeStyles((theme) => ({\n        formControl: {\n            margin: theme.spacing(1),\n            minWidth: 120,\n            maxWidth: 300,\n          },\n          chips: {\n            display: 'flex',\n            flexWrap: 'wrap',\n          },\n          chip: {\n            margin: 2,\n          },\n    }))\n    const useClasses = useStyle();\n\n    return (\n        <FormControl\n            style={{minWidth: 120}}\n            variant=\"standard\"\n            margin=\"normal\"\n            // required \n            {...(error && { error: true })}\n        >\n            <InputLabel>{label}</InputLabel>\n            <Select\n                defaultValue=\"\"\n                label={label}\n                name={name}\n                value={value}\n                onChange={onChange}\n                autoWidth={true}\n            >\n                <MenuItem value={0}>0 am</MenuItem>\n                <MenuItem value={1}>1 am</MenuItem>\n                <MenuItem value={2}>2 am</MenuItem>\n                <MenuItem value={3}>3 am</MenuItem>\n                <MenuItem value={4}>4 am</MenuItem>\n                <MenuItem value={5}>5 am</MenuItem>\n                <MenuItem value={6}>6 am</MenuItem>\n                <MenuItem value={7}>7 am</MenuItem>\n                <MenuItem value={8}>8 am</MenuItem>\n                <MenuItem value={9}>9 am</MenuItem>\n                <MenuItem value={10}>10 am</MenuItem>\n                <MenuItem value={11}>11 am</MenuItem>\n                <MenuItem value={12}>12 pm</MenuItem>\n                <MenuItem value={13}>13 pm</MenuItem>\n                <MenuItem value={14}>14 pm</MenuItem>\n                <MenuItem value={15}>15 pm</MenuItem>\n                <MenuItem value={16}>16 pm</MenuItem>\n                <MenuItem value={17}>17 pm</MenuItem>\n                <MenuItem value={18}>18 pm</MenuItem>\n                <MenuItem value={19}>19 pm</MenuItem>\n                <MenuItem value={20}>20 pm</MenuItem>\n                <MenuItem value={21}>21 pm</MenuItem>\n                <MenuItem value={22}>22 pm</MenuItem>\n                <MenuItem value={23}>23 pm</MenuItem>\n            </Select>\n            {error && <FormHelperText>{error}</FormHelperText>}\n        </FormControl>\n    )\n}\n\nexport default TimeRange\n","import React, { useState } from \"react\"\nimport \"react-modern-calendar-datepicker/lib/DatePicker.css\"\nimport { Calendar } from \"react-modern-calendar-datepicker\"\n\nconst DateRange = () => {\n    var current = new Date();\n    const defaultFrom = {\n        year: current.getFullYear(),\n        month: current.getMonth(),\n        day: current.getDate(),\n    }\n    const defaultValue = {\n        from: defaultFrom,\n        to: null,\n    }\n    const [selectedDayRange, setSelectedDayRange] = useState(defaultValue)\n\n    return (\n        <Calendar\n            value={selectedDayRange}\n            onChange={setSelectedDayRange}\n            colorPrimary=\"#0fbcf9\" // added this\n            colorPrimaryLight=\"rgba(75, 207, 250, 0.4)\" // and this\n            shouldHighlightWeekends\n        />\n    )\n}\n\nexport default DateRange\n","import React from 'react'\nimport { Button as MuiButton, makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: theme.spacing(0.5)\n    },\n    label: {\n        textTransform: 'none'\n    }\n}))\n\nexport default function Button(props) {\n\n    const { text, size, color, variant, onClick, ...other } = props\n    const classes = useStyles();\n\n    return (\n        <MuiButton\n            variant={variant || \"contained\"}\n            size={size || \"large\"}\n            color={color || \"primary\"}\n            onClick={onClick}\n            {...other}\n            classes={{ root: classes.root, label: classes.label }}>\n            {text}\n        </MuiButton>\n    )\n}","import Input from \"./Input\";\nimport DatePicker from \"./DatePicker\";\nimport TimeRange from \"./TimeRange\";\nimport DateRange from \"./DateRange\";\nimport Button from \"./Button\";\n\nconst Controls = {\n    Input,\n    DatePicker,\n    TimeRange,\n    DateRange,\n    Button,\n}\n\nexport default Controls;\n","import React, { useState } from 'react';\nimport { Grid, TextField, makeStyles } from '@material-ui/core';\nimport { useForm, Form } from \"./useForm\";\n\n// ./ imports\nimport Controls from \"./controls/Controls\";\n\n// To be improved\nimport 'react-modern-calendar-datepicker/lib/DatePicker.css';\nimport DatePicker, { Calendar, utils } from 'react-modern-calendar-datepicker';\nimport { SentimentSatisfiedAlt } from '@material-ui/icons';\nimport Swal from 'sweetalert2';\n\nlet user_id;\n\n$(document).ready(function () {\n\n    const query_url = new URL(window.location.href)\n    if (query_url.searchParams.has(\"liff.state\")) {\n        const query_params = new URLSearchParams(query_url.searchParams.get(\"liff.state\"))\n        user_id = query_params.get(\"user_id\")\n    } else {\n        user_id = query_url.searchParams.get(\"user_id\")\n    }\n})\n\nconst initialFormValues = {\n    voteName: '',\n    earliestTime: '',\n    latestTime: '',\n}\n\n/* Parts to improve */\nvar PreservedFormValues = {\n    dueDate: '',\n    dateRange: {\n        startDate: '',\n        endDate: '',\n    }\n}\n\n/* END OF TODO PART */\n\nfunction VoteCreateForm() {\n\n    /* Error report */\n    const validate = (fieldValues = values) => {\n        let temp = { ...errors }\n        if ('voteName' in fieldValues) {\n            temp.voteName = fieldValues.voteName ? \"\" : \"請輸入投票名稱\";\n        }\n        if ('earliestTime' in fieldValues) {\n            temp.earliestTime = fieldValues.earliestTime.length != 0 ? \"\" : \"請選擇聚餐最早開始時間\";\n        }\n        if ('latestTime' in fieldValues) {\n            temp.latestTime = fieldValues.latestTime.length != 0 ? \"\" : \"請選擇聚餐最晚結束時間\";\n        }\n        if (Number.isInteger(fieldValues.earliestTime) &&\n            Number.isInteger(fieldValues.latestTime)) {\n            temp.latestTime = fieldValues.earliestTime >= fieldValues.latestTime ? \"最晚時間需要比最早時間晚\" : \"\";\n        }\n        setErrors({\n            ...temp\n        })\n        if (fieldValues == values)\n            return Object.values(temp).every(x => x == \"\")\n    }\n\n    const {\n        values,\n        setValues,\n        errors,\n        setErrors,\n        handleInputChange,\n        resetForm,\n    } = useForm(initialFormValues, true, validate);\n\n\n    /* Submit Part */\n\n    const handleSubmit = e => {\n        e.preventDefault();\n\n        if (!validate()) { return; }\n\n        // Parsing local data\n        const date1 = new Date(PreservedFormValues.dateRange.startDate);\n        const startDate = `${date1.getFullYear()}/${date1.getMonth() + 1}/${date1.getDate()}`\n        const date2 = new Date(PreservedFormValues.dateRange.endDate);\n        const diffInTime = date2.getTime() - date1.getTime();\n        const diffInDays = (diffInTime / (1000 * 3600 * 24)) + 1;\n\n\n\n        const postedData = {\n            \"user_id\": user_id,\n            'vote_name': values.voteName,\n            'vote_end': PreservedFormValues.dueDate,\n            'start_date': startDate,\n            'num_days': diffInDays,\n            'min_time': values.earliestTime,\n            'max_time': values.latestTime,\n        };\n\n        const requestOptions = {\n            method: 'POST',\n            header: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(postedData),\n            mode: 'cors'\n        };\n        fetch('../api/vote/create/event', requestOptions)\n            .then(response => response.json())\n            .then((data) => {\n                if (data && data.status === \"success\") {\n                    Swal.fire({\n                        icon: \"success\",\n                        title: data.message.title,\n                        text: data.message.content,\n                        confirmButtonText: \"確認\",\n                    }).then((result) => {\n                        window.location.replace(data.message.share_link);\n                    });\n                } else {\n                    Swal.fire({\n                        icon: \"error\",\n                        title: \"很抱歉！\",\n                        text: data.error_message,\n                        confirmButtonText: \"確認\",\n                    });\n                }\n            });\n    }\n\n\n\n    /* Parts to improve */\n\n    const [dueDate, setDueDate] = useState(null);\n    // 投票截止日期的css和init\n    const renderCustomInput = ({ ref }) => (\n        <input\n            readOnly\n            ref={ref} // necessary\n            placeholder=\"設定投票截止日期\"\n            value={dueDate ? `${dueDate.year}年` + `${dueDate.month}月` + `${dueDate.day}日` : \"\"}\n            style={{\n                textAlign: \"center\",\n                padding: \"0.75rem 0.5rem\",\n                fontSize: \"1.25rem\",\n                border: \"1px solid #808080\",\n                borderRadius: \"50px\",\n                // boxShadow: \"0 0.25rem 0.25rem rgba(156, 136, 255, 0.2)\",\n                color: \"#f1c40f\",\n                outline: \"none\",\n            }}\n        />\n    )\n\n\n    const syncDueDateToPreserved = () => {\n        if (dueDate) {\n            PreservedFormValues.dueDate = `${dueDate.month}/${dueDate.day}/${dueDate.year}`;\n        }\n    }\n    syncDueDateToPreserved();\n\n    const defaultDateRange = {\n        from: utils().getToday(),\n        to: null,\n    };\n    const [dateRange, setDateRange] = useState(defaultDateRange)\n    const syncDateRangeToPreserved = () => {\n        if (dateRange.from !== null && dateRange.to !== null) {\n            PreservedFormValues.dateRange.startDate = `${dateRange.from.month}/${dateRange.from.day}/${dateRange.from.year}`;\n            PreservedFormValues.dateRange.endDate = `${dateRange.to.month}/${dateRange.to.day}/${dateRange.to.year}`;\n        }\n    }\n    syncDateRangeToPreserved();\n\n    const checkValidation = () => {\n        if (\n            values.voteName.length != 0 &&\n            Number.isInteger(values.earliestTime) &&\n            Number.isInteger(values.latestTime) &&\n            PreservedFormValues.dueDate.length != 0 &&\n            PreservedFormValues.dateRange.startDate.length != 0 &&\n            PreservedFormValues.dateRange.endDate.length != 0\n        ) { return false; }\n        return true;\n    }\n\n    /* END OF TODO PART */\n\n    return (\n        <Form onSubmit={handleSubmit}>\n            <center>\n                <Controls.Input\n                    name=\"voteName\"\n                    label=\"聚餐名稱\"\n                    value={values.voteName}\n                    onChange={handleInputChange}\n                    error={errors.voteName}\n                />\n                <h2>選擇投票聚餐日期</h2>\n                <Calendar\n                    value={dateRange}\n                    onChange={setDateRange}\n                    colorPrimary=\"#f1c40f\"\n                    colorPrimaryLight=\"rgba(241, 196, 15, 0.2)\"\n                    minimumDate={utils().getToday()}\n                    shouldHighlightWeekends\n                />\n                <DatePicker\n                    name=\"dueDate\"\n                    value={dueDate}\n                    onChange={setDueDate}\n                    renderInput={renderCustomInput}\n                    minimumDate={utils().getToday()}\n                    shouldHighlightWeekends\n                />\n                <div>\n                    <Controls.TimeRange\n                        name=\"earliestTime\"\n                        label=\"聚餐最早開始時間\"\n                        value={values.earliestTime}\n                        onChange={handleInputChange}\n                        error={errors.earliestTime}\n                    />\n                    <Controls.TimeRange\n                        name=\"latestTime\"\n                        label=\"聚餐最晚結束時間\"\n                        value={values.latestTime}\n                        onChange={handleInputChange}\n                        error={errors.latestTime}\n                    />\n                </div>\n                <div>\n                    <Controls.Button\n                        type=\"submit\"\n                        text=\"建立投票\"\n                        disabled={checkValidation()}\n                    />\n                    {/* <Controls.Button \n                        text=\"重置投票\"\n                        color=\"default\"\n                        onClick={resetForm}\n                    /> */}\n                </div>\n            </center>\n\n            {/* <li>Returned Id: {postId}</li>\n            <li>聚餐名稱: {values.voteName}</li>\n            <li>最早時間: {values.earliestTime}</li>\n            <li>最晚時間: {values.latestTime}</li>\n            <li>截止日期: {PreservedFormValues.dueDate}</li>\n            <li>投票日期: {PreservedFormValues.dateRange.startDate}~{PreservedFormValues.dateRange.endDate}</li> */}\n        </Form>\n    )\n}\n\nexport default VoteCreateForm\n","import React from 'react'\nimport { TextField } from '@material-ui/core';\n\nexport default function Input(props) {\n\n    const { name, label, value, onChange, error=null } = props;\n    return (\n        <TextField\n            variant=\"outlined\"\n            name={name}\n            label={label}\n            value={value}\n            onChange={onChange}\n            // required\n            {...(error && {error:true,helperText:error})}\n        />\n    )\n}\n","import React, { useState } from 'react'\nimport 'react-modern-calendar-datepicker/lib/DatePicker.css';\nimport { DatePicker as ModernDatePicker } from 'react-modern-calendar-datepicker';\n\nexport default function DatePicker(props) {\n\n    const { name, value, onChange, inputPlaceholder, inputClassName } = props\n    const formatInputValue = () => {\n        if (!value) return '';\n        return `Day: ${value.day}`;\n    };\n      return (\n        <ModernDatePicker\n            value={selectedDay}\n            onChange={setSelectedDay}\n            inputPlaceholder=\"Select a date\" // placeholder\n            formatInputText={formatInputValue} // format value\n            inputClassName=\"my-custom-input\" // custom class\n            shouldHighlightWeekends\n        />\n    );\n}\n","import React from 'react'\nimport styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\nimport { makeStyles } from \"@material-ui/core\"\n\nimport VoteCreateForm from \"./VoteCreateForm\";\n\nconst AppContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst BoxContainer = styled.div`\n  width: 330px;\n  min-height: 550px;\n  display: flex;\n  flex-direction: column;\n  border-radius: 19px;\n  background-color: #fff;\n  box-shadow: 0 0 2px rgba(15, 15, 15, 0.28);\n  position: relative;\n  overflow: hidden;\n`;\n\nconst TopContainer = styled.div`\n  width: 100%;\n  height: 185px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  padding: 0 1.8em;\n  padding-bottom: 5em;\n`;\n\nconst HeaderContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst BannerText = styled.h2`\n  font-size: 40px;\n  font-weight: 600;\n  line-height: 1.25;\n  color: #fff;\n  z-index: 10;\n  margin: 0;\n`;\n\nconst HeaderText = styled.h2`\n  font-size: 30px;\n  font-weight: 600;\n  line-height: 1.25;\n  color: #fff;\n  z-index: 10;\n  margin: 0;\n`;\n\nconst SmallText = styled.h5`\n  color: #c24510;\n  font-weight: 1000 !important;\n  font-size: 13px;\n  z-index: 10;\n  margin: 0;\n  margin-top: 7px;\n`;\n\nconst BackDrop = styled(motion.div)`\n  width: 140%;\n  height: 550px;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  border-radius: 50%;\n  transform: rotate(60deg);\n  top: -290px;\n  left: -70px;\n  background: rgb(241, 196, 15);\n  background: linear-gradient(\n    58deg,\n    rgba(250, 215, 87, 1) 20%,\n    rgba(243, 172, 18, 1) 100%\n  );\n`;\n\nconst useStyles = makeStyles(theme => ({\n  pageContent: {\n    margin: theme.spacing(5),\n    padding: theme.spacing(3),\n  }\n}))\n\n\nfunction VoteCreate() {\n\n  const classes = useStyles();\n\n  return (\n    <AppContainer>\n      <BoxContainer>\n        <TopContainer>\n          <BackDrop\n            initial={false}\n          />\n          <HeaderContainer>\n            <BannerText>EATender</BannerText>\n            <HeaderText>聚餐創立</HeaderText>\n            <SmallText>加LINE約吃飯，感情不會散！</SmallText>\n          </HeaderContainer>\n        </TopContainer>\n        <VoteCreateForm />\n      </BoxContainer>\n    </AppContainer>\n  )\n}\n\nexport default VoteCreate\n","import React from \"react\"\nimport { render } from \"react-dom\"\nimport VoteCreate from \"./components/VoteCreate\"\n\nconst styles = {\n    fontFamily: \"sans-serif\",\n    textAlign: \"center\",\n}\n\n\nrender(<VoteCreate textAlign=\"center\" />, document.querySelector(\"#form\"))\n"],"sourceRoot":""}